<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Attendance Management</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/dashboard.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-brand">
            <img src="images/logo.png" alt="Logo" class="nav-logo">
            <span>Employee Portal</span>
        </div>
        <ul class="nav-menu">
            <li><a href="dashboard.html">Dashboard</a></li>
            <li><a href="attendance.html" class="active">Attendance</a></li>
            <li><a href="sales.html">Sales</a></li>
            <li><a href="payroll.html">Payroll</a></li>
            <li><a href="leaves.html">Leaves</a></li>
            <li class="dropdown">
                <a href="#" class="user-profile">
                    <span id="userName">John Doe</span>
                    <img src="images/user-avatar.png" alt="Profile">
                </a>
                <ul class="dropdown-menu">
                    <li><a href="profile.html">My Profile</a></li>
                    <li><a href="#" id="logoutBtn">Logout</a></li>
                </ul>
            </li>
        </ul>
    </nav>

    <div class="container">
        <div class="page-header">
            <h1>My Attendance</h1>
            <div class="header-actions">
                <select id="monthFilter">
                    <option value="">Select Month</option>
                    <option value="1">January</option>
                    <option value="2">February</option>
                    <option value="3">March</option>
                    <option value="4">April</option>
                    <option value="5">May</option>
                    <option value="6">June</option>
                    <option value="7">July</option>
                    <option value="8">August</option>
                    <option value="9">September</option>
                    <option value="10">October</option>
                    <option value="11">November</option>
                    <option value="12">December</option>
                </select>
                <select id="yearFilter">
                    <option value="2025">2025</option>
                    <option value="2024">2024</option>
                </select>
                <button class="btn-primary" id="filterBtn">Filter</button>
            </div>
        </div>

        <!-- Attendance Summary -->
        <div class="stats-grid">
            <div class="stat-card">
                <h4>Total Present</h4>
                <h2 id="totalPresent">0</h2>
            </div>
            <div class="stat-card">
                <h4>Total Absent</h4>
                <h2 id="totalAbsent">0</h2>
            </div>
            <div class="stat-card">
                <h4>Late Arrivals</h4>
                <h2 id="totalLate">0</h2>
            </div>
            <div class="stat-card">
                <h4>Overtime Hours</h4>
                <h2 id="totalOvertime">0h</h2>
            </div>
        </div>

        <!-- Today's Attendance -->
        <div class="content-section">
            <h2>Today's Attendance</h2>
            <div class="attendance-card">
                <div class="attendance-item">
                    <span class="label">Check In:</span>
                    <span class="value" id="todayCheckIn">--:--</span>
                </div>
                <div class="attendance-item">
                    <span class="label">Check Out:</span>
                    <span class="value" id="todayCheckOut">--:--</span>
                </div>
                <div class="attendance-item">
                    <span class="label">Working Hours:</span>
                    <span class="value" id="todayHours">0h 0m</span>
                </div>
                <div class="attendance-item">
                    <span class="label">Status:</span>
                    <span class="badge" id="todayStatus">Not Marked</span>
                </div>
            </div>
        </div>

        <!-- Attendance Records -->
        <div class="content-section">
            <h2>Attendance History</h2>
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Check In</th>
                            <th>Check Out</th>
                            <th>Working Hours</th>
                            <th>Overtime</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="attendanceTable">
                        <tr>
                            <td colspan="7" class="text-center">Loading...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Regularization Request Modal -->
        <div id="regularizeModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Regularize Attendance</h2>
                <form id="regularizeForm">
                    <div class="form-group">
                        <label>Date</label>
                        <input type="date" id="regDate" required>
                    </div>
                    <div class="form-group">
                        <label>Check In Time</label>
                        <input type="time" id="regCheckIn" required>
                    </div>
                    <div class="form-group">
                        <label>Check Out Time</label>
                        <input type="time" id="regCheckOut" required>
                    </div>
                    <div class="form-group">
                        <label>Reason</label>
                        <textarea id="regReason" rows="4" required></textarea>
                    </div>
                    <button type="submit" class="btn-primary">Submit Request</button>
                </form>
            </div>
        </div>
    </div>

    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/attendance.js"></script>
</body>
</html>
